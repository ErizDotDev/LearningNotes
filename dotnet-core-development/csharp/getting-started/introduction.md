# ⭐ Introduction

- Aside from being known as an object oriented language, C# can also be considered as a **component-oriented language**.
    - Component oriented language is a software paradigm that focuses on the development of software through reusable bits and pieces called components that can also be self-contained.
- C# emphasizes versioning as it aims for programs and libraries written in C# to continuously evolve in a compatible manner.

### C# Features

- **Garbage collection** - automatically get back memory occupied by unused objects and resources.
- **[[nullable-types|Nullable types]]**
- **Exception handling**
- **Language Integrated Query (LINQ)**
- **[[major-language-areas#^3a95ec|Lambda expressions]]**
- **Asynchronous operations**
- **Unified type system**
- Allows dynamic allocation of objects and in-line storage of lightweight structures
- Supports [[generics|generic method and types]]
- Supports [[iterators|iterators]]
- **Language interoperability**
    - The IL code generated by the C# compiler conforms to the **Common Type Specification (CTS)**.
    - This means C# code can interact with code generated from other .NET languages such as F#, VB, C++.
        - These languages all conforms to the CTS.
        - Types can reference from each other as if they are written in the same language.

### .NET Architecture

- C# programs run on .NET.
    - .NET is a virtual execution system also known as the **Common Language Runtime (CLR)**
    - [[introduction#^1826a9|CLR]] is Microsoft’s implementation of an international standard called **Common Language Infrastructure (CLI)**.
    - CLI is the basis for creating different environment that makes libraries and languages work seamlessly together.

- A source code written in C# is compiled to **IL (Intermediate Language)** which is CLI compliant.
    - IL code and other resources are stored in an assembly file (or .dll files).
    - Assembly contains a manifest that provides information about the assembly’s types, version, etc.

- Once a C# program is executed, the assembly is loaded into the CLR.

- **CLR** ^1826a9
	- Common Language Runtime
    - Translates a compiled C# code (in IL format) into machine readable code (”unmanaged code”) via just in time (JIT) compilation.
    - Any environment that has the CLR in it will be able to read a compiled C# code.
    - In .NET 7, C# can be compiled directly to machine code without the intervention of CLR.
        - This is useful for running .NET applications in containers as this is faster compared to JIT compiled code.
    - Code executed by CLR are called “managed code”.

### **Value Types vs. Reference Types**

- **[[types-members#**Value Types**|Value Types]]** contains the actual data.
- **[[types-members#**Reference Types**|Reference Types]]** stores a reference to the data, commonly known as _**objects**_.

---

In the scenario where a _value type_ is passed as an argument to a method, the value type will have its value copied to the method parameter. Any changes made to the value type in the method will not affect the value of the value type that was passed into the method. The vice versa happens for _reference types_, as the value of reference types are stored in a random location in the heap/memory and the reference type holds a reference to the value that was stored in a random location in memory.

---

### Different Value Types

- **Simple Type** - int, float, bool, char
- **Enum Type**
    - By default, associated values (also known as **integral value**) for an enum are of int data type.
    - Enum members can be used to evaluate bitwise operators. (Use of & and |)
- **[[classes-structs-records#Structs|Structure type]]**
- **[[csharp-concepts#Nullable value types|Nullable value Type]]** - represents the value of its underlying type and null.
- **Tuple value Type** - a lightweight data structure that can hold data of multiple types.

### Different Reference Types

- Class Type
- Array Type
- [[interfaces|Interface Type]]
- [[delegates|Delegate Type]]

**[[classes-structs-records#Structs|Structs]]**

- Cannot be null; To make a struct nullable, you need to add the `?` character.
- In a struct constructor, you need to provide values to all properties.
- Inheritance is not allowed, but it can implement interfaces.
- _When to use structs?_
    - When you have small collection of value types that you want to group together.
    - All struct members are of value type.
    - When you want to optimize handling of value types in an application involving the managed heap and the garbage collector.
    - Small data structures that is not intended to be modified after the struct is created.

**Float vs. Double**

- These types differ on how precise these values can be.
- Float’s precision reaches 7 to 8 decimal places, whereas double has a precision of 15 decimal digits.
- Use double for most calculations

### C# Type System

- All C# types are derived from the type `object`.

### **Boxing/unboxing**

- A concept within C#’s unified view of the type system where a value of any type can be treated as an object.
- Values of reference types are immediately viewed as an object, while value of a value type can be an object by using the boxing and the unboxing operations.
- When a value type’s value is assigned to an object type, a box is allocated to hold this value. This box is an instance of a reference type and the value of the value type is copied into this instance.
- To unbox, a cast is needed to convert an object value to the receiving type. If the cast succeeds, then it successfully copies the value to the receiving value type.

- Both operations are computationally expensive processes.
    - When a value type is boxed, new object must be allocated on the heap and constructed.

- **Boxing**
    - When a value type is boxed, a copy of the value-type value is stored in a different memory location.
        - This means any changes to the value type will not affect the reference type that was created when the value is boxed.

- Importance:
    - Way to differentiate value types and reference types.
    - Gain deeper understanding of how C# collection works.
        - Collections store elements as objects, which means value type elements are boxed to become reference types.
    - Performance implications